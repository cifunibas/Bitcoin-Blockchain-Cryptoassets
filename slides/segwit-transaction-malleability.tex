% Choose one to switch between slides and handout
\documentclass[]{beamer}
%\documentclass[handout]{beamer}

% Video Meta Data
\title{SegWit and Transaction Malleability}
\subtitle{Title of Video Lecture}
\author{Prof. Dr. Fabian Sch√§r}
\institute{University of Basel}

% Config File
\input{../config/config.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\thispagestyle{empty}
\begin{frame}[noframenumbering]
	\titlepage
\end{frame}

%%%%
%\begin{frame}{SegWit}
%	% Fix transaction malleability
%	% Short explanation
%	% Bullet points
%\end{frame}
%%%%

%%%
\begin{frame}{Transaction Malleability}
	\begin{itemize}
		\item (Was) a known issue in the Bitcoin protocol
		\item<2-> Modify \texttt{scriptSig} of an unconfirmed transaction
		\item<3-> The transaction is still valid, 
		\item<4-> but the transaction's hash value (transaction ID) is different	
	\end{itemize}
	\vspace{1.5em}
	\uncover<5->{\textbf{Some potential problems:}}
	\begin{columns}[T]
		\uncover<5->{
			\begin{column}{0.5\textwidth}
				Figure:
				Sender cannot find the transaction ID
			\end{column}
		}
		\uncover<6->{
			\begin{column}{0.5\textwidth}
				Figure:
				Exchange uses transaction hash values to check withdrawal requests
				Customer issues another transaction on their behalf
			\end{column}
		}
	\end{columns}
	\vspace{1.5em}
	\uncover <7->{Having a reliable transaction identifier is crucial for many second-layer solutions like the Lightning Network.}
\end{frame}
%%%

%%%
\begin{frame}{Signature-Based Malleability Sources}
	Figure:\\
	\texttt{scriptSig} cannot be signed: circular.\\
	\texttt{scriptSig} is part of the transaction data that is used to compute the transaction's hash value or transaction ID.\\
	\vspace{1.5em}
	ECDSA computation with negative s (link to other lecture slides)\\
	% OpenSSL encoding ambiguity
\end{frame}
%%%

%%%
\begin{frame}{Operation Code-Based Malleability Sources}
	One example:\\
	Figure: stack with \texttt{DATAPUSH} and \texttt{DROP}\\
\end{frame}
%%%

%%%
\begin{frame}{Sort Fork Implementation}
	Figure:\\
	Segregate redeem script from the transaction's \texttt{scriptSig}\\
	New data field: witness\\
	Empty scriptSig is used for the computation of the transaction's hash value\\
	\uncover<2->{The transaction's hash value is an now an unambiguous transaction identifier}\\
	\vspace{1.5em}
	\textbf{SegWit has been implemented through a soft fork:}
	Old nodes\\
	New nodes\\
	Majority of computation power\\
	Figure of soft fork
\end{frame}
%%%

%%%
\begin{frame}{SegWit Transaction Types (P2WPKH)}
	
\end{frame}
%%%

%%%
\begin{frame}{SegWit Transaction Types (P2WSH)}

\end{frame}
%%%

%%%
\begin{frame}{Native SegWit Address (Bech32)}

\end{frame}
%%%

%%%
\begin{frame}{Confirmation Capacity Increase}

\end{frame}
%%%

%%%%
%\begin{frame}{}
%
%\end{frame}
%%%%

\begin{frame}%[allowframebreaks]
\frametitle{References and Recommended Reading}
	\bibliographystyle{amsplain}
	\bibliography{../assets/bib/refs}
\end{frame}

\end{document}